---
layout: default
title: su
permalink: /man/su.html
nonav: true
---

<div class="manualpage-section">

<h1 align="center">SU</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CAVEATS">CAVEATS</a><br>
<a href="#CONFIGURATION">CONFIGURATION</a><br>
<a href="#FILES">FILES</a><br>
<a href="#EXIT VALUES">EXIT VALUES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">su &minus;
change user ID or become superuser</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="11%"></td>
<td width="35%">


<p style="margin-top: 1em"><b>su</b> [<i>options</i>]
[<i>username</i>]</p> </td>
<td width="54%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The <b>su</b>
command is used to become another user during a login
session. Invoked without a <b>username</b>, <b>su</b>
defaults to becoming the superuser. The optional argument
<b>&minus;</b> may be used to provide an environment similar
to what the user would expect had the user logged in
directly.</p>

<p style="margin-left:11%; margin-top: 1em">Additional
arguments may be provided after the username, in which case
they are supplied to the user's login shell. In particular,
an argument of <b>&minus;c</b> will cause the next argument
to be treated as a command by most command interpreters. The
command will be executed by the shell specified in
/etc/passwd for the target user.</p>

<p style="margin-left:11%; margin-top: 1em">You can use the
<b>&minus;&minus;</b> argument to separate <b>su</b> options
from the arguments supplied to the shell.</p>

<p style="margin-left:11%; margin-top: 1em">The user will
be prompted for a password, if appropriate. Invalid
passwords will produce an error message. All attempts, both
valid and invalid, are logged to detect abuse of the
system.</p>

<p style="margin-left:11%; margin-top: 1em">The current
environment is passed to the new shell. The value of
<b>$PATH</b> is reset to /bin:/usr/bin for normal users, or
/sbin:/bin:/usr/sbin:/usr/bin for the superuser. This may be
changed with the <b>ENV_PATH</b> and <b>ENV_SUPATH</b>
definitions in /etc/login.defs.</p>

<p style="margin-left:11%; margin-top: 1em">A subsystem
login is indicated by the presence of a &quot;*&quot; as the
first character of the login shell. The given home directory
will be used as the root of a new file system which the user
is actually logged into.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The options
which apply to the <b>su</b> command are:</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;c</b>,
<b>&minus;&minus;command</b> <i>COMMAND</i></p>

<p style="margin-left:17%;">Specify a command that will be
invoked by the shell using its <b>&minus;c</b>.</p>

<p style="margin-left:17%; margin-top: 1em">The executed
command will have no controlling terminal. This option
cannot be used to execute interractive programs which need a
controlling TTY.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;</b>,
<b>&minus;l</b>, <b>&minus;&minus;login</b></p>

<p style="margin-left:17%;">Provide an environment similar
to what the user would expect had the user logged in
directly.</p>

<p style="margin-left:17%; margin-top: 1em">When
<b>&minus;</b> is used, it must be specified as the last
<b>su</b> option. The other forms (<b>&minus;l</b> and
<b>&minus;&minus;login</b>) do not have this
restriction.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;s</b>,
<b>&minus;&minus;shell</b> <i>SHELL</i></p>

<p style="margin-left:17%;">The shell that will be
invoked.</p>

<p style="margin-left:17%; margin-top: 1em">The invoked
shell is chosen from (highest priority first):</p>

<p style="margin-left:23%; margin-top: 1em">The shell
specified with &minus;&minus;shell.</p>

<p style="margin-left:23%; margin-top: 1em">If
<b>&minus;&minus;preserve&minus;environment</b> is used, the
shell specified by the <b>$SHELL</b> environment
variable.</p>

<p style="margin-left:23%; margin-top: 1em">The shell
indicated in the /etc/passwd entry for the target user.</p>

<p style="margin-left:23%; margin-top: 1em">/bin/sh if a
shell could not be found by any above method.</p>

<p style="margin-left:17%; margin-top: 1em">If the target
user has a restricted shell (i.e. the shell field of this
user's entry in /etc/passwd is not listed in /etc/shells),
then the <b>&minus;&minus;shell</b> option or the
<b>$SHELL</b> environment variable won't be taken into
account, unless <b>su</b> is called by root.</p>


<p style="margin-left:11%; margin-top: 1em"><b>&minus;m</b>,
<b>&minus;p</b>,
<b>&minus;&minus;preserve&minus;environment</b></p>

<p style="margin-left:17%;">Preserve the current
environment, except for:</p>


<p style="margin-left:17%; margin-top: 1em"><b>$PATH</b></p>

<p style="margin-left:23%;">reset according to the
/etc/login.defs options <b>ENV_PATH</b> or <b>ENV_SUPATH</b>
(see below);</p>


<p style="margin-left:17%; margin-top: 1em"><b>$IFS</b></p>

<p style="margin-left:23%;">reset to
&ldquo;&lt;space&gt;&lt;tab&gt;&lt;newline&gt;&rdquo;, if it
was set.</p>

<p style="margin-left:17%; margin-top: 1em">If the target
user has a restricted shell, this option has no effect
(unless <b>su</b> is called by root).</p>

<p style="margin-left:17%; margin-top: 1em">Note that the
default behavior for the environment is the following:</p>

<p style="margin-left:23%; margin-top: 1em">The
<b>$HOME</b>, <b>$SHELL</b>, <b>$USER</b>, <b>$LOGNAME</b>,
<b>$PATH</b>, and <b>$IFS</b> environment variables are
reset.</p>

<p style="margin-left:23%; margin-top: 1em">If
<b>&minus;&minus;login</b> is not used, the environment is
copied, except for the variables above.</p>

<p style="margin-left:23%; margin-top: 1em">If
<b>&minus;&minus;login</b> is used, the <b>$TERM</b>,
<b>$COLORTERM</b>, <b>$DISPLAY</b>, and <b>$XAUTHORITY</b>
environment variables are copied if they were set.</p>

<p style="margin-left:23%; margin-top: 1em">Other
environments might be set by PAM modules.</p>

<h2>CAVEATS
<a name="CAVEATS"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">This version of
<b>su</b> has many compilation options, only some of which
may be in use at any particular site.</p>

<h2>CONFIGURATION
<a name="CONFIGURATION"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">The following
configuration variables in /etc/login.defs change the
behavior of this tool:</p>


<p style="margin-left:11%; margin-top: 1em"><b>CONSOLE_GROUPS</b>
(string)</p>

<p style="margin-left:17%;">List of groups to add to the
user's supplementary groups set when logging in on the
console (as determined by the CONSOLE setting). Default is
none.</p>

<p style="margin-left:17%; margin-top: 1em">Use with
caution &minus; it is possible for users to gain permanent
access to these groups, even when not logged in on the
console.</p>


<p style="margin-left:11%; margin-top: 1em"><b>DEFAULT_HOME</b>
(boolean)</p>

<p style="margin-left:17%;">Indicate if login is allowed if
we can't cd to the home directory. Default is no.</p>

<p style="margin-left:17%; margin-top: 1em">If set to
<i>yes</i>, the user will login in the root (/) directory if
it is not possible to cd to her home directory.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ENV_PATH</b>
(string)</p>

<p style="margin-left:17%;">If set, it will be used to
define the PATH environment variable when a regular user
login. The value is a colon separated list of paths (for
example <i>/bin:/usr/bin</i>) and can be preceded by
<i>PATH=</i>. The default value is
<i>PATH=/bin:/usr/bin</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>ENV_SUPATH</b>
(string)</p>

<p style="margin-left:17%;">If set, it will be used to
define the PATH environment variable when the superuser
login. The value is a colon separated list of paths (for
example <i>/sbin:/bin:/usr/sbin:/usr/bin</i>) and can be
preceded by <i>PATH=</i>. The default value is
<i>PATH=/sbin:/bin:/usr/sbin:/usr/bin</i>.</p>


<p style="margin-left:11%; margin-top: 1em"><b>SULOG_FILE</b>
(string)</p>

<p style="margin-left:17%;">If defined, all su activity is
logged to this file.</p>

<p style="margin-left:11%; margin-top: 1em"><b>SU_NAME</b>
(string)</p>

<p style="margin-left:17%;">If defined, the command name to
display when running &quot;su &minus;&quot;. For example, if
this is defined as &quot;su&quot; then a &quot;ps&quot; will
display the command is &quot;&minus;su&quot;. If not
defined, then &quot;ps&quot; would display the name of the
shell actually being run, e.g. something like
&quot;&minus;sh&quot;.</p>


<p style="margin-left:11%; margin-top: 1em"><b>SYSLOG_SU_ENAB</b>
(boolean)</p>

<p style="margin-left:17%;">Enable &quot;syslog&quot;
logging of <b>su</b> activity &minus; in addition to sulog
file logging.</p>

<h2>FILES
<a name="FILES"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em">/etc/passwd</p>

<p style="margin-left:17%;">User account information.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/shadow</p>

<p style="margin-left:17%;">Secure user account
information.</p>


<p style="margin-left:11%; margin-top: 1em">/etc/login.defs</p>

<p style="margin-left:17%;">Shadow password suite
configuration.</p>

<h2>EXIT VALUES
<a name="EXIT VALUES"></a>
</h2>


<p style="margin-left:11%; margin-top: 1em">On success,
<b>su</b> returns the exit value of the command it
executed.</p>

<p style="margin-left:11%; margin-top: 1em">If this command
was terminated by a signal, <b>su</b> returns the number of
this signal plus 128.</p>

<p style="margin-left:11%; margin-top: 1em">If su has to
kill the command (because it was asked to terminate, and the
command did not terminate in time), <b>su</b> returns
255.</p>

<p style="margin-left:11%; margin-top: 1em">Some exit
values from <b>su</b> are independent from the executed
command:</p>

<p style="margin-left:11%; margin-top: 1em"><i>0</i></p>

<p style="margin-left:17%;">success
(<b>&minus;&minus;help</b> only)</p>

<p style="margin-left:11%; margin-top: 1em"><i>1</i></p>

<p style="margin-left:17%;">System or authentication
failure</p>

<p style="margin-left:11%; margin-top: 1em"><i>126</i></p>

<p style="margin-left:17%;">The requested command was not
found</p>

<p style="margin-left:11%; margin-top: 1em"><i>127</i></p>

<p style="margin-left:17%;">The requested command could not
be executed</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:11%; margin-top: 1em"><b>login</b>(1),
<b>login.defs</b>(5), <b>sg</b>(1), <b>sh</b>(1).</p>
<hr>
</div>
